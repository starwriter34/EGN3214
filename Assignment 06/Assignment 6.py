'''
Chris Oakley
Arrays and Matrices
10/3/2020
EGN3214 - Assignment 6

Variables:

a - Force Vector Names
x - Main Array before inverse
x_inv -  Inverse Main Array
y - Force vectors on Nodes
z - Final Output with Force Vectors and Nodes
'''
import numpy as np
import matplotlib.pyplot as plt

np.set_printoptions(precision=3)
np.set_printoptions(suppress=True)
y = np.array([-65,0,20,0,0,0,20,0,0,0,-45,0,40,0,0,0,30])
a = np.array(['AJ', 'AI', 'AB', 'BI',  'BH', 'BC', 'CH', 'CD', 'DH', 'DG', 'DE', 'EG',  'EF',  'JI',  'IH', 'HG', 'GF'])
x = np.array(
    [
[-1,0,-0.707, 0, 0,     0, 0,0, 0, 0,     0,0, 0, 0,     0, 0, 0],
[0, 0,-0.707, 0,-1,     0, 0,0, 0, 0,     0,0, 0, 0,     0, 0, 0],
[0, 0, 0.707, 1, 0,     0, 0,0, 0, 0,     0,0, 0, 0,     0, 0, 0],
[0, 1, 0.707, 0, 0,     0,-1,0, 0, 0,     0,0, 0, 0,     0, 0, 0],
[0, 0,     0,-1, 0,-0.707, 0,0, 0, 0,     0,0, 0, 0,     0, 0, 0],
[0, 0,     0, 0, 1,-0.707, 0,0,-1, 0,     0,0, 0, 0,     0, 0, 0],
[0, 0,     0, 0, 0, 0.707, 0,1, 0, 0,-0.707,0, 0, 0,     0, 0, 0],
[0, 0,     0, 0, 0, 0.707, 1,0, 0,-1,-0.707,0, 0, 0,     0, 0, 0],
[0, 0,     0, 0, 0,     0, 0,0, 0, 0,-0.707,0, 0,-1,     0, 0, 0],
[0, 0,     0, 0, 0,     0, 0,0, 0, 0, 0.707,1,-1, 0,     0, 0, 0],
[0, 0,     0, 0, 0,     0, 0,0, 0, 0,     0,0, 0, 0,-0.707, 0,-1],
[0, 0,     0, 0, 0,     0, 0,0, 0, 0,     0,0, 1, 0, 0.707, 0, 0],
[0, 0,     0, 0, 0,     0, 0,0, 0, 0,     0,0, 0, 1, 0.707, 0, 0],
[0, 0,     0, 0, 0,     0, 0,0, 0, 1,     0,0, 0, 0,-0.707,-1, 0],
[0, 0,     0, 0, 0,     0, 0,0, 0, 0,     0,0, 0, 0,     0, 0,-1],
[0, 0,     0, 0, 0,     0, 0,0, 0, 0,     0,0, 0, 0,     0, 1, 0],
[1, 0,     0, 0, 0,     0, 0,0, 0, 0,     0,0, 0, 0,     0, 0, 0],
    ]
)

x_inv = np.linalg.inv(x)

z = np.dot(x_inv,y)

# print(z)
for b, z in zip(a,z):
    print(f'{b}: {z:.2f}')